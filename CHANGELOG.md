<!--
SPDX-FileCopyrightText: 2024 Mathieu Fenniak <mathieu@fenniak.net>

SPDX-License-Identifier: GPL-3.0-or-later
-->

# testtrim Changelog

testtrim is an intelligent test selection tool which uses code coverage data, system call tracing, git change analysis, and a historical database in order to identify the minimum set of tests required to verify a commit is regression-free.

All notable changes to this project will be documented in this file.  This file is automatically generated from git commit logs using [git-cliff](https://git-cliff.org).

## [0.14.7] - 2025-11-12

### ğŸ› Bug Fixes

- Change test check to use on:pull_request ([#766](https://codeberg.org/testtrim/testtrim/issues/766))
- Also build on main after PR ([#769](https://codeberg.org/testtrim/testtrim/issues/769))

## [0.14.6] - 2025-09-10

### ğŸ§ª Testing

- Cache git clone to reduce risk of 429 from codeberg ([#672](https://codeberg.org/testtrim/testtrim/issues/672))

## [0.14.5] - 2025-08-20

### âš™ï¸ Miscellaneous Tasks

- Enable email notifications for rust-checks workflow ([#627](https://codeberg.org/testtrim/testtrim/issues/627))
- Add build info after debug info disappeared from runner ([#652](https://codeberg.org/testtrim/testtrim/issues/652))

## [0.14.4] - 2025-08-05

### âš™ï¸ Miscellaneous Tasks

- Second repair to oci container push for docker-in-docker ([#625](https://codeberg.org/testtrim/testtrim/issues/625))

## [0.14.3] - 2025-08-05

### âš™ï¸ Miscellaneous Tasks

- Restore using last released version for CI ([#623](https://codeberg.org/testtrim/testtrim/issues/623))
- Fix oci container push for docker-in-docker ([#624](https://codeberg.org/testtrim/testtrim/issues/624))

## [0.14.2] - 2025-08-05

### ğŸ› Bug Fixes

- Syscall clone arguments not understandable when under docker-in-docker environment ([#622](https://codeberg.org/testtrim/testtrim/issues/622))

## [0.14.1] - 2025-07-09

### ğŸ› Bug Fixes

- *(ci)* Mark registry.npmjs.org as an ignorable network access ([#588](https://codeberg.org/testtrim/testtrim/issues/588))
- *(javascript)* Support multiple submodules w/ same versions ([#589](https://codeberg.org/testtrim/testtrim/issues/589))

### âš¡ Performance

- *(javascript)* Use a shared cache dir ([#587](https://codeberg.org/testtrim/testtrim/issues/587))

## [0.14.0] - 2025-07-02

### ğŸš€ Features

- Basic support for tracing JavaScript+Mocha+NYC test projects ([#557](https://codeberg.org/testtrim/testtrim/issues/557))
- *(javascript)* Track changes to external dependencies ([#583](https://codeberg.org/testtrim/testtrim/issues/583))

### ğŸ› Bug Fixes

- *(docs)* Platform support table markdown ([#573](https://codeberg.org/testtrim/testtrim/issues/573))
- Increase dns buffer size ([#574](https://codeberg.org/testtrim/testtrim/issues/574))

## [0.13.5] - 2025-05-25

### âš™ï¸ Miscellaneous Tasks

- Rust 1.87 upgrade ([#509](https://codeberg.org/testtrim/testtrim/issues/509))

## [0.13.4] - 2025-05-07

### âš™ï¸ Miscellaneous Tasks

- Use debian-ci-latest ([#499](https://codeberg.org/testtrim/testtrim/issues/499))
- Centralize renovate config ([#501](https://codeberg.org/testtrim/testtrim/issues/501))

## [0.13.3] - 2025-04-02

### ğŸ› Bug Fixes

- Prevent cargo/rustc from being a runtime dependency of app ([#453](https://codeberg.org/testtrim/testtrim/issues/453))

## [0.13.2] - 2025-03-05

### âš™ï¸ Miscellaneous Tasks

- Bump up timeout for slow dotnet tests ([#404](https://codeberg.org/testtrim/testtrim/issues/404))
- Remove old FIXME ([#417](https://codeberg.org/testtrim/testtrim/issues/417))

## [0.13.1] - 2025-02-26

### ğŸ› Bug Fixes

- *(strace)* Parse error on wait4 WIFSIGNALED output ([#392](https://codeberg.org/testtrim/testtrim/issues/392))

### âš™ï¸ Miscellaneous Tasks

- Update dev environment & CI to run with Rust stable (1.85) ([#394](https://codeberg.org/testtrim/testtrim/issues/394))

## [0.13.0] - 2025-02-13

### ğŸš€ Features

- Add cmdline option to change project directory away from $PWD ([#377](https://codeberg.org/testtrim/testtrim/issues/377))

### ğŸ› Bug Fixes

- Running all tests failing due to clone3 argument in syscall ([#378](https://codeberg.org/testtrim/testtrim/issues/378))

## [0.12.6] - 2025-02-12

### ğŸ› Bug Fixes

- Update strace calling to remove regex parsing of connect() syscalls ([#367](https://codeberg.org/testtrim/testtrim/issues/367))
- *(perf)* With API-based testtrim DB, send fetch for coverage data in a limited-size batch of commits ([#373](https://codeberg.org/testtrim/testtrim/issues/373))
- *(postgresql)* Allow ancestor commit to be rerun ([#375](https://codeberg.org/testtrim/testtrim/issues/375))

### âš™ï¸ Miscellaneous Tasks

- Change automatic weekly release schedule ([#368](https://codeberg.org/testtrim/testtrim/issues/368))

## [0.12.5] - 2025-02-07

### ğŸ› Bug Fixes

- *(strace)* Syscall parsing reliability improvements ([#365](https://codeberg.org/testtrim/testtrim/issues/365))
- *(strace)* Remove tgkill diagnostic error ([#366](https://codeberg.org/testtrim/testtrim/issues/366))

## [0.12.4] - 2025-02-06

### ğŸ§ª Testing

- During strace error, increase count of recent trace messages logged ([#364](https://codeberg.org/testtrim/testtrim/issues/364))

## [0.12.3] - 2025-02-05

### ğŸ› Bug Fixes

- *(strace)* Race conditional prevents some threads from being traced ([#363](https://codeberg.org/testtrim/testtrim/issues/363))

### ğŸ§ª Testing

- More diagnostic output after successfully identifying error output ([#362](https://codeberg.org/testtrim/testtrim/issues/362))

## [0.12.2] - 2025-02-05

### ğŸ§ª Testing

- Addt diagnostics for #352 ([#361](https://codeberg.org/testtrim/testtrim/issues/361))

### Build

- Reference repository README in testtrim crate ([#356](https://codeberg.org/testtrim/testtrim/issues/356))

## [0.12.1] - 2025-02-05

### ğŸ§ª Testing

- Retry access_network_multithread in DNS SERVFAIL ([#350](https://codeberg.org/testtrim/testtrim/issues/350))
- Add detailed diagnostic output for intermittent error #352 ([#354](https://codeberg.org/testtrim/testtrim/issues/354))

### âš™ï¸ Miscellaneous Tasks

- Return to running CI w/ last testtrim release ([#351](https://codeberg.org/testtrim/testtrim/issues/351))

## [0.12.0] - 2025-01-31

### ğŸš€ Features

- *(get-test-identifiers)* Improved terminal output with spinners and elapsed time elements ([#333](https://codeberg.org/testtrim/testtrim/issues/333))
- *(run-tests)* New progress-bar UI on terminal ([#338](https://codeberg.org/testtrim/testtrim/issues/338))
- *(simulate-history)* New progress-bar UI ([#345](https://codeberg.org/testtrim/testtrim/issues/345))

### ğŸ› Bug Fixes

- *(strace)* Read strace streams to EOF, even on error, to prevent possible deadlock ([#335](https://codeberg.org/testtrim/testtrim/issues/335))
- Replace obsolete tempdir crate ([#341](https://codeberg.org/testtrim/testtrim/issues/341))

### âš™ï¸ Miscellaneous Tasks

- Return log output to INFO level ([#337](https://codeberg.org/testtrim/testtrim/issues/337))
- Fix potential deadlock on error starting TraceClient in nested-strace ([#344](https://codeberg.org/testtrim/testtrim/issues/344))

## [0.11.0] - 2025-01-29

### ğŸš€ Features

- *(simulate-history)* Add capability to override testtrim.toml ([#322](https://codeberg.org/testtrim/testtrim/issues/322))

### ğŸ› Bug Fixes

- Improve simulate-history output on test failure to include details (optionally, log-level info) ([#321](https://codeberg.org/testtrim/testtrim/issues/321))
- DNS access via nsncd was recording only the canonical DNS name, not the requested DNS hostname ([#327](https://codeberg.org/testtrim/testtrim/issues/327))
- Add timeouts for internal nested strace coordination (diagnostic) ([#331](https://codeberg.org/testtrim/testtrim/issues/331))
- Remove verbose request output from GET / on run-server ([#332](https://codeberg.org/testtrim/testtrim/issues/332))

### ğŸšœ Refactor

- Remove obsolete FIXME markers ([#317](https://codeberg.org/testtrim/testtrim/issues/317))

### Build

- Fix double encoding in release notes body ([#312](https://codeberg.org/testtrim/testtrim/issues/312))
- Target Rust 1.85 compatibility (current beta), dropping use of unstable features ([#313](https://codeberg.org/testtrim/testtrim/issues/313))

## [0.10.1] - 2025-01-22

### ğŸšœ Refactor

- Cleanup internal details of strace syscall tracing ([#311](https://codeberg.org/testtrim/testtrim/issues/311))

### Build

- Cleanup release "body" in codeberg ([#310](https://codeberg.org/testtrim/testtrim/issues/310))

## [0.10.0] - 2025-01-21

### ğŸš€ Features

- Support openat() relative to an open file descriptor in syscall tracing ([#309](https://codeberg.org/testtrim/testtrim/issues/309))

### Build

- Update release API access to explicitly pass release body ([#308](https://codeberg.org/testtrim/testtrim/issues/308))
- Add jq dependency to release.yaml

## [0.9.0] - 2025-01-21

### ğŸš€ Features

- Syscall tracing with thread groups ([#299](https://codeberg.org/testtrim/testtrim/issues/299))

### ğŸšœ Refactor

- Cleanup strace error handling that prevents zombies ([#301](https://codeberg.org/testtrim/testtrim/issues/301))

### ğŸ§ª Testing

- Add multithreaded network test to double-check DNS resolution hasn't failed ([#302](https://codeberg.org/testtrim/testtrim/issues/302))

### âš™ï¸ Miscellaneous Tasks

- Re-enable testtrim in CI ([#296](https://codeberg.org/testtrim/testtrim/issues/296))
- Fix intermittent freezes in testtrim due to presumed leftover processes ([#305](https://codeberg.org/testtrim/testtrim/issues/305))

## [0.8.6] - 2025-01-19

### âš™ï¸ Miscellaneous Tasks

- Fix nested strace missing impact of ProcSynchronizer ([#295](https://codeberg.org/testtrim/testtrim/issues/295))

## [0.8.5] - 2025-01-19

### ğŸ› Bug Fixes

- Syscall child syscalls can be emitted before "inherited" config is done ([#294](https://codeberg.org/testtrim/testtrim/issues/294))

## [0.8.4] - 2025-01-19

### âš™ï¸ Miscellaneous Tasks

- Race condition and correctness fixes on nested strace ([#291](https://codeberg.org/testtrim/testtrim/issues/291))

## [0.8.3] - 2025-01-19

### ğŸšœ Refactor

- Reimplement nested strace to allow progress on thread-group identification ([#289](https://codeberg.org/testtrim/testtrim/issues/289))

### ğŸ§ª Testing

- Syscall tracing integration test ([#279](https://codeberg.org/testtrim/testtrim/issues/279))

## [0.8.2] - 2025-01-15

### âš™ï¸ Miscellaneous Tasks

- Fix bug in release process, failing to update Cargo.lock w/ new version identifier ([#285](https://codeberg.org/testtrim/testtrim/issues/285))

## [0.8.1] - 2025-01-15

### ğŸ› Bug Fixes

- Bug in release version number in Cargo.toml incorrectly not committed ([#283](https://codeberg.org/testtrim/testtrim/issues/283))

## [0.8.0] - 2025-01-15

### ğŸš€ Features

- Add logger to run-server ([#266](https://codeberg.org/testtrim/testtrim/issues/266))

### ğŸ› Bug Fixes

- *(strace)* Add support for tokenizing SIGURG msg ([#260](https://codeberg.org/testtrim/testtrim/issues/260))

### ğŸšœ Refactor

- Fixup small FIXME items with 'static lifetimes ([#262](https://codeberg.org/testtrim/testtrim/issues/262))
- Consume self in EncodedString.take ([#264](https://codeberg.org/testtrim/testtrim/issues/264))
- Organize testtrim into a Rust workspace; add PoC eBPF-based tracing ([#257](https://codeberg.org/testtrim/testtrim/issues/257))

### ğŸ§ª Testing

- Split integration tests into smaller chunks ([#254](https://codeberg.org/testtrim/testtrim/issues/254))

### âš™ï¸ Miscellaneous Tasks

- Remove FIXMEs from logging ([#267](https://codeberg.org/testtrim/testtrim/issues/267))
- Remove out of date FIXME comments ([#269](https://codeberg.org/testtrim/testtrim/issues/269))
- Perform a `nix build .#testtrim` during rust-checks ([#278](https://codeberg.org/testtrim/testtrim/issues/278))

## [0.7.5] - 2025-01-08

### ğŸ› Bug Fixes

- *(windows)* Remove Go embed test cases w/ double-quotes in paths ([#244](https://codeberg.org/testtrim/testtrim/issues/244))
- *(windows)* Minimal bugfixes for Windows build and run ([#245](https://codeberg.org/testtrim/testtrim/issues/245))

### ğŸšœ Refactor

- Simplify error-handling code for strace parse ([#250](https://codeberg.org/testtrim/testtrim/issues/250))

### âš™ï¸ Miscellaneous Tasks

- Replace nom with winnow ([#246](https://codeberg.org/testtrim/testtrim/issues/246))

## [0.7.4] - 2025-01-04

### ğŸ› Bug Fixes

- Support multiple package versions in Cargo.lock ([#243](https://codeberg.org/testtrim/testtrim/issues/243))

## [0.7.3] - 2025-01-03

### Build

- Prevent unintentional println leftovers in the future ([#242](https://codeberg.org/testtrim/testtrim/issues/242))

## [0.7.2] - 2025-01-03

### ğŸ› Bug Fixes

- `cargo publish` command failed in last release due to dirty directory ([#240](https://codeberg.org/testtrim/testtrim/issues/240))
- Remove unintentional strace log output ([#241](https://codeberg.org/testtrim/testtrim/issues/241))

## [0.7.1] - 2025-01-03

### ğŸ› Bug Fixes

- Failure in syscall tracing when strace's process kill msg received ([#237](https://codeberg.org/testtrim/testtrim/issues/237))
- Automatically retry API requests that fail for transient reasons ([#238](https://codeberg.org/testtrim/testtrim/issues/238))

### ğŸšœ Refactor

- Move generics in CoverageDatabase to internal on functions ([#235](https://codeberg.org/testtrim/testtrim/issues/235))

### âš™ï¸ Miscellaneous Tasks

- Upgrade to Rust edition 2024 ([#236](https://codeberg.org/testtrim/testtrim/issues/236))

### Build

- Add `cargo publish` to release process ([#239](https://codeberg.org/testtrim/testtrim/issues/239))

## [0.7.0] - 2025-01-01

### ğŸš€ Features

- Automatically cleanup older coverage data during run-server ([#232](https://codeberg.org/testtrim/testtrim/issues/232))

### ğŸšœ Refactor

- Add flexibility for future test platform changes to jettison coverage db ([#230](https://codeberg.org/testtrim/testtrim/issues/230))

## [0.6.6] - 2024-12-29

### ğŸ› Bug Fixes

- Correct chatty log during DNS resolution ([#224](https://codeberg.org/testtrim/testtrim/issues/224))
- *(rust)* Coverage parsing overstating affected files ([#227](https://codeberg.org/testtrim/testtrim/issues/227))

### âš™ï¸ Miscellaneous Tasks

- Skip rerunning tests that access proxy.golang.org ([#225](https://codeberg.org/testtrim/testtrim/issues/225))

## [0.6.5] - 2024-12-29

### ğŸ› Bug Fixes

- Replace surf w/ reqwest ([#221](https://codeberg.org/testtrim/testtrim/issues/221))
- Temporary hacky workaround for Go DNS resolution ([#223](https://codeberg.org/testtrim/testtrim/issues/223))

### ğŸšœ Refactor

- After changing to per-process strace, cleanup old unfinished/resumed logic ([#219](https://codeberg.org/testtrim/testtrim/issues/219))

### ğŸ“š Documentation

- Documentation updates for DNS impacts ([#218](https://codeberg.org/testtrim/testtrim/issues/218))

### âš™ï¸ Miscellaneous Tasks

- Run testtrim against testtrim in it's own CI ([#170](https://codeberg.org/testtrim/testtrim/issues/170))

## [0.6.4] - 2024-12-27

### ğŸ› Bug Fixes

- Allow testtrim to run on itself on Linux via nested process syscall tracing w/ strace ([#215](https://codeberg.org/testtrim/testtrim/issues/215))

## [0.6.3] - 2024-12-26

### ğŸ› Bug Fixes

- *(strace)* Fix parse failure w/ signals ([#211](https://codeberg.org/testtrim/testtrim/issues/211))
- Support ipv4-mapped addresses in DNS resolution merging ([#213](https://codeberg.org/testtrim/testtrim/issues/213))
- Increase strace capture size from 256 -> 512 bytes ([#214](https://codeberg.org/testtrim/testtrim/issues/214))

## [0.6.2] - 2024-12-26

### ğŸ› Bug Fixes

- Add CNAME resolution support for DNS tracing ([#210](https://codeberg.org/testtrim/testtrim/issues/210))

## [0.6.1] - 2024-12-26

### ğŸ› Bug Fixes

- Bump DNS parse buffer size up to 10 records ([#209](https://codeberg.org/testtrim/testtrim/issues/209))

## [0.6.0] - 2024-12-26

### ğŸš€ Features

- *(strace)* Capture traffic on port 53 for DNS resolution ([#207](https://codeberg.org/testtrim/testtrim/issues/207))

### ğŸšœ Refactor

- Rebuild strace parsing and data mgmt ([#202](https://codeberg.org/testtrim/testtrim/issues/202))

### âš™ï¸ Miscellaneous Tasks

- Prevent release if no changes since last release ([#205](https://codeberg.org/testtrim/testtrim/issues/205))

## [0.5.0] - 2024-12-23

### ğŸš€ Features

- Monitor DNS resolution (via nscd) and expose hostname-based filters to network-policy ([#195](https://codeberg.org/testtrim/testtrim/issues/195))

### ğŸ› Bug Fixes

- Perf stats reporting very low numbers for run-test ([#192](https://codeberg.org/testtrim/testtrim/issues/192))

## [0.4.1] - 2024-12-21

### ğŸ› Bug Fixes

- *(network-policy)* Fix port-range limitations and add support for IPv4-mapped IPv6 address matching ([#190](https://codeberg.org/testtrim/testtrim/issues/190))
- *(network-policy)* Add wildcard support for unix sockets ([#191](https://codeberg.org/testtrim/testtrim/issues/191))

## [0.4.0] - 2024-12-21

### ğŸš€ Features

- Exit process w/ code representing success or failure ([#185](https://codeberg.org/testtrim/testtrim/issues/185))
- Network access policies for selective test execution ([#188](https://codeberg.org/testtrim/testtrim/issues/188))

### ğŸ› Bug Fixes

- *(deps)* Update rust crate thiserror to v2 ([#175](https://codeberg.org/testtrim/testtrim/issues/175))
- *(deps)* Update rust crate clap-verbosity-flag to v3.0.2 ([#174](https://codeberg.org/testtrim/testtrim/issues/174))
- Add context to subcommand start errors to better report tooling problems ([#179](https://codeberg.org/testtrim/testtrim/issues/179))
- Restore performance stats, broken by async changes ([#186](https://codeberg.org/testtrim/testtrim/issues/186))
- Filter out network connections to port 0 from strace output ([#189](https://codeberg.org/testtrim/testtrim/issues/189))

### ğŸšœ Refactor

- Update CoverageDatabase to not take &mut self ([#178](https://codeberg.org/testtrim/testtrim/issues/178))
- Lift logic for network->test-case out of each test platform ([#187](https://codeberg.org/testtrim/testtrim/issues/187))

### ğŸ§ª Testing

- Allow unit tests to run against separate DB than TESTTRIM_DATABASE_URL ([#176](https://codeberg.org/testtrim/testtrim/issues/176))
- Fix intermittent integration test failure caused by split DB logic ([#180](https://codeberg.org/testtrim/testtrim/issues/180))
- Use IPC-aware locking in postgres_sqlx ([#183](https://codeberg.org/testtrim/testtrim/issues/183))

### âš™ï¸ Miscellaneous Tasks

- Set deps to current specific versions ([#173](https://codeberg.org/testtrim/testtrim/issues/173))
- *(renovate)* Set all renovate PRs to 'chore' commit type ([#177](https://codeberg.org/testtrim/testtrim/issues/177))

## [0.3.3] - 2024-12-18

### ğŸ› Bug Fixes

- *(deps)* Update rust crate thiserror to v2.0.8 ([#164](https://codeberg.org/testtrim/testtrim/issues/164))

### ğŸ“š Documentation

- Cleanup duplicate content in CHANGELOG.md ([#159](https://codeberg.org/testtrim/testtrim/issues/159))

### âš™ï¸ Miscellaneous Tasks

- Fix intermittent /homeless-shelter build failure ([#162](https://codeberg.org/testtrim/testtrim/issues/162))
- Remove unused package in rust-check.yaml ([#165](https://codeberg.org/testtrim/testtrim/issues/165))
- Check-in .sqlx files, rather than always generating at build-time ([#169](https://codeberg.org/testtrim/testtrim/issues/169))
- Workaround DNS resolution errors in release.yaml Action ([#171](https://codeberg.org/testtrim/testtrim/issues/171))
- Fix bug with git-cliff not running after recent dedup fix ([#172](https://codeberg.org/testtrim/testtrim/issues/172))

## [0.3.2] - 2024-12-18

### ğŸ› Bug Fixes

- Increase default actix-web JSON payload limit from 2MB, fixing 413 HTTP error on uploads ([#153](https://codeberg.org/testtrim/testtrim/issues/153))

### ğŸšœ Refactor

- Replace threadpool in run_tests w/ a tokio JoinSet ([#152](https://codeberg.org/testtrim/testtrim/issues/152))

### âš¡ Performance

- Use zstd compression saving coverage DB over API ([#156](https://codeberg.org/testtrim/testtrim/issues/156))
- Server-side support for response content compression ([#157](https://codeberg.org/testtrim/testtrim/issues/157))

### âš™ï¸ Miscellaneous Tasks

- Try to prevent double rust-check builds on new tags ([#150](https://codeberg.org/testtrim/testtrim/issues/150))
- Fix todo which will crash during failed golang test case ([#151](https://codeberg.org/testtrim/testtrim/issues/151))

## [0.3.1] - 2024-12-16

### ğŸ› Bug Fixes

- OCI container not usable for network service without listening on 0.0.0.0 ([#149](https://codeberg.org/testtrim/testtrim/issues/149))

### ğŸšœ Refactor

- Update CoverageDatabase & web handlers to be async ([#147](https://codeberg.org/testtrim/testtrim/issues/147))

### âš™ï¸ Miscellaneous Tasks

- Fix warning caused by Cargo lockfile update; async_closure is now stable ([#148](https://codeberg.org/testtrim/testtrim/issues/148))

## [0.3.0] - 2024-12-16

### ğŸš€ Features

- Add an OCI container published for each release for testtrim run-server ([#144](https://codeberg.org/testtrim/testtrim/issues/144))

### ğŸ“š Documentation

- README updates, re: coverage databases and scope ([#145](https://codeberg.org/testtrim/testtrim/issues/145))

## [0.2.1] - 2024-12-15

### ğŸ› Bug Fixes

- *(go)* Fix failure when reading deleted file in guess_tests_from_test_file_changed ([#140](https://codeberg.org/testtrim/testtrim/issues/140))

### âš™ï¸ Miscellaneous Tasks

- *(release)* Release tagging and changelog generation ([#141](https://codeberg.org/testtrim/testtrim/issues/141))

## [0.2.0] - 2024-12-13

First tagged release; Rust & Go support

testtrim is an intelligent test selection tool which uses code coverage data, system call tracing, git change analysis, and a historical database in order to identify the minimum set of tests required to verify a commit is regression-free.

testtrim has enough support and capabilities to allow it to be used with some moderate sized Open Source Rust and Go projects with reasonable success and functionality, but it is certainly not fully feature complete, bug-free, flawless, or capable of working on every project.  This initial release isn't a guarantee of wide applicability; it's just a step towards providing distributible binaries so that integrations with continuous delivery systems can be performed.

The below release notes are a comprehensive set of all changes that were involved in the initial development and release of testtrim.  Future release notes will be more focused.

### ğŸš€ Features

- Read lcov files and compute stats
- Output TSV per-file
- Commit-based analysis tool
- Print-stats command can take coverage directory or tar.bz2 archive
- First pass at analyze-tests poc command
- Support .7z files in analyze-tests
- Add forgejo check for unit tests and warning-free build ([#1](https://codeberg.org/testtrim/testtrim/issues/1))
- Most basic test prediction w/ e2e test ([#3](https://codeberg.org/testtrim/testtrim/issues/3))
- Externally usable CLI commands ([#11](https://codeberg.org/testtrim/testtrim/issues/11))
- Remove git infinite lookback on new commits ([#19](https://codeberg.org/testtrim/testtrim/issues/19))
- Don't save coverage map when working on dirty source trees ([#38](https://codeberg.org/testtrim/testtrim/issues/38))
- Track Cargo dependency changes and affected tests ([#40](https://codeberg.org/testtrim/testtrim/issues/40))
- Simulate-history subcommand to evaluate testtrim effectiveness ([#12](https://codeberg.org/testtrim/testtrim/issues/12))
- Basic parallel execution of tests ([#25](https://codeberg.org/testtrim/testtrim/issues/25))
- Display test output on failures ([#29](https://codeberg.org/testtrim/testtrim/issues/29))
- Output test failure count during simulate-history ([#31](https://codeberg.org/testtrim/testtrim/issues/31))
- Track access to non-source-code files during test runs ([#34](https://codeberg.org/testtrim/testtrim/issues/34))
- Support include!, include_str!, include_bytes! for local file tests ([#36](https://codeberg.org/testtrim/testtrim/issues/36))
- Track working directory during strace tracing ([#46](https://codeberg.org/testtrim/testtrim/issues/46))
- Coverage database backed on PostgreSQL ([#58](https://codeberg.org/testtrim/testtrim/issues/58))
- Store coverage data separately for any touched project ([#66](https://codeberg.org/testtrim/testtrim/issues/66))
- Independent coverage maps for different "tags" on test runs ([#75](https://codeberg.org/testtrim/testtrim/issues/75))
- Trace tests that use network access ([#78](https://codeberg.org/testtrim/testtrim/issues/78))
- Transparency into why a test will/would be re-run ([#79](https://codeberg.org/testtrim/testtrim/issues/79))
- Very basic support for .NET projects ([#80](https://codeberg.org/testtrim/testtrim/issues/80))
- Add a service host for sharing testtrim data remotely ([#104](https://codeberg.org/testtrim/testtrim/issues/104))
- Fixup new HTTP API to use somewhat reasonably web semantics ([#116](https://codeberg.org/testtrim/testtrim/issues/116))
- Add Golang platform support (basic) ([#123](https://codeberg.org/testtrim/testtrim/issues/123))
- External package dependency tracking for Go ([#128](https://codeberg.org/testtrim/testtrim/issues/128))
- Implement syscall tracing for Go ([#131](https://codeberg.org/testtrim/testtrim/issues/131))
- Support //go:embed in go files ([#134](https://codeberg.org/testtrim/testtrim/issues/134))
- Go parallelism and network tracing ([#138](https://codeberg.org/testtrim/testtrim/issues/138))

### ğŸ› Bug Fixes

- Grep has non-zero exit code with no hits, aborting script
- Proper reference to all binaries during lcov export
- Avoid div-by-zero in stats
- Switch script from bz2 to 7z for speed
- Fix scripts for changee to work off profraw data
- Keep all paths as Path/PathBuf in-memory rather than forcing to strings
- Use nix cache in actions to reduce build time ([#4](https://codeberg.org/testtrim/testtrim/issues/4))
- Name project testtrim ([#5](https://codeberg.org/testtrim/testtrim/issues/5))
- Rustfmt ([#7](https://codeberg.org/testtrim/testtrim/issues/7))
- Ensure rustfmt is run consistently on all pulls ([#8](https://codeberg.org/testtrim/testtrim/issues/8))
- Support removing a test case in a new commit ([#9](https://codeberg.org/testtrim/testtrim/issues/9))
- Use same codepath for base commit in e2e test ([#10](https://codeberg.org/testtrim/testtrim/issues/10))
- Update e2e tests to use CLI interfaces & DB storage ([#14](https://codeberg.org/testtrim/testtrim/issues/14))
- Temporary(?) console output for tests ran stats ([#16](https://codeberg.org/testtrim/testtrim/issues/16))
- Populate last_read_timestamp for future GC ([#21](https://codeberg.org/testtrim/testtrim/issues/21))
- *(performance)* If coverage DB is empty don't search all git commits ([#28](https://codeberg.org/testtrim/testtrim/issues/28))
- Set working-dir to match cargo test ([#29](https://codeberg.org/testtrim/testtrim/issues/29))
- Use manifest_path for root, rather than src_path ([#30](https://codeberg.org/testtrim/testtrim/issues/30))
- Chunk db inserts to avoid sqlite too many parameters errors ([#31](https://codeberg.org/testtrim/testtrim/issues/31))
- Missing DB instrumentation on save/is-empty DB operations ([#35](https://codeberg.org/testtrim/testtrim/issues/35))
- Don't pollute working dir with `cargo test` cmd profiling data ([#44](https://codeberg.org/testtrim/testtrim/issues/44))
- *(performance)* Improve perf of save_coverage_data ([#19](https://codeberg.org/testtrim/testtrim/issues/19))
- *(performance)* Improve perf of parse-test-data section ([#20](https://codeberg.org/testtrim/testtrim/issues/20))
- Break out of external dependency file detection earlier ([#21](https://codeberg.org/testtrim/testtrim/issues/21))
- Don't skip relevant instrumentation points ([#23](https://codeberg.org/testtrim/testtrim/issues/23))
- Coverage data mix-and-match between executables must be prevented due to identifier conflicts ([#24](https://codeberg.org/testtrim/testtrim/issues/24))
- Normalize file paths from syscall tracing ([#38](https://codeberg.org/testtrim/testtrim/issues/38))
- Add run test errors to format str ([#45](https://codeberg.org/testtrim/testtrim/issues/45))
- Support for multiline include statements ([#47](https://codeberg.org/testtrim/testtrim/issues/47))
- Cleanup usage of DATABASE_URL and SQLite storage locations ([#61](https://codeberg.org/testtrim/testtrim/issues/61))
- Wait in CI for pgsql to be up ([#64](https://codeberg.org/testtrim/testtrim/issues/64))
- Syntax fix in yaml ([#65](https://codeberg.org/testtrim/testtrim/issues/65))
- Repair multiproject failures ([#67](https://codeberg.org/testtrim/testtrim/issues/67))
- Conditionally compile strace module ([#76](https://codeberg.org/testtrim/testtrim/issues/76))
- Repair build in non-Unix platforms due to dependency on unix::net::SocketAddr ([#81](https://codeberg.org/testtrim/testtrim/issues/81))
- Go unable to build tests in a project with two packages having the same name ([#135](https://codeberg.org/testtrim/testtrim/issues/135))

### ğŸšœ Refactor

- Split coverage map data structure into separate module
- Move calculate_statistics into coverage_map.rs
- Split git & db functions out of lib.rs ([#13](https://codeberg.org/testtrim/testtrim/issues/13))
- Get_previous_commits returns iterator ([#15](https://codeberg.org/testtrim/testtrim/issues/15))
- Wrap git ops in an Scm trait ([#17](https://codeberg.org/testtrim/testtrim/issues/17))
- Eliminate git look-back for "new" tests ([#18](https://codeberg.org/testtrim/testtrim/issues/18))
- Denormalized coverage map without data duplication ([#33](https://codeberg.org/testtrim/testtrim/issues/33))
- Improve db.rs code ([#46](https://codeberg.org/testtrim/testtrim/issues/46))
- Move scm & rust-specific logic into submodules ([#47](https://codeberg.org/testtrim/testtrim/issues/47))
- Merge required trait bounds onto identifier types ([#48](https://codeberg.org/testtrim/testtrim/issues/48))
- Collection of random refactorings ([#39](https://codeberg.org/testtrim/testtrim/issues/39))
- Enable clippy::pedantic (with some exceptions) ([#41](https://codeberg.org/testtrim/testtrim/issues/41))
- Run clippy on test code ([#48](https://codeberg.org/testtrim/testtrim/issues/48))
- Cleanup strace a bit with match destructuring ([#49](https://codeberg.org/testtrim/testtrim/issues/49))
- Move coverage data storage into "coverage" submodule ([#57](https://codeberg.org/testtrim/testtrim/issues/57))
- Clap parser FIXMEs ([#69](https://codeberg.org/testtrim/testtrim/issues/69))
- Address fixme re: ScmCommit ([#70](https://codeberg.org/testtrim/testtrim/issues/70))
- Use cargo nextest run to run tests ([#77](https://codeberg.org/testtrim/testtrim/issues/77))

### ğŸ“š Documentation

- Fix comment references to Gitea ([#2](https://codeberg.org/testtrim/testtrim/issues/2))
- Add README based upon intro blog post ([#49](https://codeberg.org/testtrim/testtrim/issues/49))
- Update README w/ refreshed test results ([#28](https://codeberg.org/testtrim/testtrim/issues/28))
- Add some notes to README about new capabilities ([#35](https://codeberg.org/testtrim/testtrim/issues/35))
- README updates ([#55](https://codeberg.org/testtrim/testtrim/issues/55))

### âš™ï¸ Miscellaneous Tasks

- Move src hosting from forgejo.kainnef.com to codeberg.org ([#1](https://codeberg.org/testtrim/testtrim/issues/1))
- Add copyright and license notices ([#10](https://codeberg.org/testtrim/testtrim/issues/10))
- Development version updates ([#11](https://codeberg.org/testtrim/testtrim/issues/11))
- Add rust-coverage-specimen check-14 and check-15 ([#51](https://codeberg.org/testtrim/testtrim/issues/51))
- Dependency & env updates ([#68](https://codeberg.org/testtrim/testtrim/issues/68))
- Fix renovate config missing SPDX identifiers ([#86](https://codeberg.org/testtrim/testtrim/issues/86))
- Tweak renovate settings ([#90](https://codeberg.org/testtrim/testtrim/issues/90))
- Refactor and cleanup web api code ([#117](https://codeberg.org/testtrim/testtrim/issues/117))

### Cleanup

- Remove fixmes that are done ([#12](https://codeberg.org/testtrim/testtrim/issues/12))

<!-- generated by git-cliff -->
